(window.webpackJsonp=window.webpackJsonp||[]).push([["admin"],{bbQB:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),o=n("i8i4"),i=n.n(o),l=(n("q4sD"),n("55Ip")),c=n("Ty5D"),s=n("/MKj"),u={borderBottom:"2px solid #eee",background:"#fafafa",margin:".75rem auto",padding:".6rem 1rem",borderRadius:"7px"},m=function(e){var t=e.post,n=t.title,a=t.searchkeys,o=t.body,i=t.price,l=t.image,c=t.id,s=e.onEdit,m=e.onDelete;return r.a.createElement("div",{style:u},r.a.createElement("h2",null,n),r.a.createElement("p",null,a),r.a.createElement("p",null,o.split("\n").map(function(e,t){return r.a.createElement(r.a.Fragment,{key:"".concat(e,"-").concat(t)},e,r.a.createElement("br",null))})),r.a.createElement("p",null,i," â‚¬"),r.a.createElement("p",null,l),r.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(){return s(c)}},"Edit"),r.a.createElement("button",{className:"btn btn-danger",type:"button",onClick:function(){return m(c)}},"Remove"))},p="EDIT_POST",d="DELETE_POST",f="FETCH_POST",h=n("vDqi"),y=n.n(h),b="http://localhost/api/posts",E=function(e){return{type:p,payload:{id:e.id,title:e.title,searchkeys:e.searchkeys,body:e.body,price:e.price,image:e.image}}},g=function(e){return function(t){return y.a.delete("".concat(b,"/").concat(e)).then(function(n){t(function(e){return{type:d,payload:{id:e}}}(e))}).catch(function(e){throw e})}},v=function(){return function(e){return y.a.get(b).then(function(t){var n;e((n=t.data["hydra:member"],{type:f,posts:n}))}).catch(function(e){throw e})}};function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=C(t).call(this,e),n=!r||"object"!==O(r)&&"function"!=typeof r?w(a):r,k(w(n),"handleInputChange",function(e){n.setState(k({},e.target.name,e.target.value))}),k(w(n),"handleSubmit",function(e){e.preventDefault(),n.state.title.trim()&&n.state.searchkeys.trim()&&n.state.body.trim()&&n.state.price.trim()&&n.state.image.trim()&&(n.props.onAddPost(n.state),n.handleReset(),n.props.setEditStatus())}),k(w(n),"handleReset",function(){n.setState({title:"",searchkeys:"",body:"",price:"",image:""})}),n.state={id:e.post.id,title:e.post.title,searchkeys:e.post.searchkeys,body:e.post.body,price:e.post.price,image:e.post.image},n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,r.a.Component),n=t,(a=[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"Title",className:"form-control",name:"title",onChange:this.handleInputChange,value:this.state.title})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"Searchkeys",className:"form-control",name:"searchkeys",onChange:this.handleInputChange,value:this.state.searchkeys})),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{cols:"19",rows:"8",placeholder:"Body",className:"form-control",name:"body",onChange:this.handleInputChange,value:this.state.body})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"Price",className:"form-control",name:"price",onChange:this.handleInputChange,value:this.state.price})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"Image",className:"form-control",name:"image",onChange:this.handleInputChange,value:this.state.image})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Update Post"),r.a.createElement("button",{type:"button",className:"btn btn-warning",onClick:this.handleReset},"Reset"))))}}])&&S(n.prototype,a),o&&S(n,o),t}(),P=Object(s.b)(null,function(e){return{onAddPost:function(t){var n,a,r,o,i,l,c;e((a=(n=t).id,r=n.title,o=n.searchkeys,i=n.body,l=n.price,c=n.image,function(e){return y.a.put("".concat(b,"/").concat(a),{id:a,title:r,searchkeys:o,body:i,price:l,image:c}).then(function(t){e(E(t.data))}).catch(function(e){throw e})}))}}})(N);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=I(t).call(this,e),n=!r||"object"!==j(r)&&"function"!=typeof r?x(a):r,R(x(n),"setEditStatus",function(){n.setState({edit:!1})}),R(x(n),"onEdit",function(e){n.setState({edit:!0,index:n.props.posts.findIndex(function(t){return t.id===e})})}),n.state={edit:!1,index:0},n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentWillMount",value:function(){this.props.onLoading()}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,n=t.posts,a=t.onDelete;return this.state.edit?r.a.createElement("div",null,r.a.createElement(P,{setEditStatus:this.setEditStatus,post:n[this.state.index]})):n.length?r.a.createElement("div",null,r.a.createElement("div",{className:"text-md-center"},r.a.createElement("h4",null,"PRODUCTLIST")),n.map(function(t){return r.a.createElement(m,{post:t,onEdit:e.onEdit,onDelete:a,key:t.id})})):r.a.createElement("div",null,"No Posts")}}])&&T(n.prototype,a),o&&T(n,o),t}(),U=Object(s.b)(function(e){return{posts:e.posts}},function(e){return{onDelete:function(t){e(g(t))},onLoading:function(){e(v())}}})(L),M=n("uBiN"),A=n("jrRI"),F=n("L3zb"),B=n("3OM0"),q=n("aLZG"),H=n("sOKU"),K={BASE_URL:window.location.origin,CREATE_PRODUCT_URL:"products/create",PRODUCTS_URL:"products"},J=n("EcEN");function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=X(t).call(this,e),n=!r||"object"!==Q(r)&&"function"!=typeof r?z(a):r,V(z(n),"handleInputChange",function(e){n.setState(V({},e.target.name,e.target.value))}),n.state={title:"",searchkeys:"",body:"",price:"",image:null,imageKey:Object(J.v4)(),errorMessage:null,error:!1,isLoading:!1},n.fileChangeHandler=n.fileChangeHandler.bind(z(n)),n.submitForm=n.submitForm.bind(z(n)),n.handleInputChange=n.handleInputChange.bind(z(n)),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,a["Component"]),n=t,(o=[{key:"fileChangeHandler",value:function(e){this.setState({image:e.target.files[0]})}},{key:"submitForm",value:function(e){if(e.preventDefault(),this.state.title.trim()&&this.state.searchkeys.trim()&&this.state.body.trim()&&this.state.price.trim()&&null!==this.state.image){this.setState({isLoading:!0,error:!1,errorMessage:""});var t=new FormData;t.append("title",e.target.title.value),t.append("searchkeys",e.target.searchkeys.value),t.append("body",e.target.body.value),t.append("price",e.target.price.value),t.append("avatar",this.state.image),this._uploadToServer(t)}else this.setState({isLoading:!0,error:!0,errorMessage:"select a file please!"})}},{key:"_uploadToServer",value:function(e){var t=this;y.a.post("".concat(K.BASE_URL,"/").concat(K.CREATE_PRODUCT_URL),e).then(function(e){t.setState({title:"",searchkeys:"",body:"",price:"",image:null,imageKey:Object(J.v4)(),isLoading:!1,error:!1,errorMessage:""})}).catch(function(e){t.setState({isLoading:!1,error:!0,errorMessage:e.errors})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"text-md-center"},r.a.createElement("h4",null,"ADD PRODUCT")),r.a.createElement("div",null,r.a.createElement(M.a,{onSubmit:this.submitForm},r.a.createElement(A.a,null,r.a.createElement("label",null,"Product"),r.a.createElement(F.a,{type:"text",name:"title",value:this.state.title,onChange:this.handleInputChange,required:!0,placeholder:"Enter the product name",className:"form-control"})),r.a.createElement(A.a,null,r.a.createElement("label",null,"Keys"),r.a.createElement(F.a,{type:"text",name:"searchkeys",value:this.state.searchkeys,onChange:this.handleInputChange,required:!0,placeholder:"Enter the search keys",className:"form-control"})),r.a.createElement(A.a,null,r.a.createElement("label",null,"Description"),r.a.createElement(F.a,{type:"textarea",name:"body",value:this.state.body,onChange:this.handleInputChange,required:!0,placeholder:"Enter product description",className:"form-control"})),r.a.createElement(A.a,null,r.a.createElement("label",null,"Price"),r.a.createElement(F.a,{type:"text",name:"price",value:this.state.price,onChange:this.handleInputChange,required:!0,placeholder:"Price",className:"form-control"})),r.a.createElement(A.a,null,r.a.createElement(B.a,{for:"imageFile"},"Image"),r.a.createElement(F.a,{type:"file",name:"image",id:"imageFile",key:this.state.imageKey,onChange:this.fileChangeHandler})),this.state.error&&r.a.createElement(q.a,{color:"danger"},this.state.errorMessage),r.a.createElement(H.a,{type:"submit",outline:!0,color:"success"},"Add Product"),this.state.isLoading&&r.a.createElement(q.a,{color:"primary"},"Loading ...."))))}}])&&W(n.prototype,o),i&&W(n,i),t}(),Y=function(){return r.a.createElement(l.a,{basename:"/admin"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"text-md-center"},r.a.createElement("h3",{className:"ui dividing header"},"Admin Navigation"),r.a.createElement("ul",{className:"list-inline"},r.a.createElement("li",{className:"list-inline-item"},r.a.createElement(l.b,{to:"/list"},r.a.createElement("code",null,"/list"))),r.a.createElement("li",{className:"list-inline-item"},r.a.createElement(l.b,{to:"/add"},r.a.createElement("code",null,"/add"))))),r.a.createElement("hr",null),r.a.createElement(c.c,null,r.a.createElement(c.a,{path:"/list",component:U}),r.a.createElement(c.a,{path:"/add",component:Z}),r.a.createElement(c.a,{exact:!0,path:"/",render:function(){return r.a.createElement("div",{className:"text-md-center"},r.a.createElement("h4",null,"Welcome! Select a action above."))}}),r.a.createElement(c.a,{render:function(e){var t=e.location;return r.a.createElement("div",{className:"ui inverted red segment"},r.a.createElement("h3",null,"Error! No matches for ",r.a.createElement("code",null,t.pathname)))}}))))},$=n("ANjH"),ee=n("sINF");var te=Object($.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return e.map(function(e){return e.id!==t.payload.id?e:Object.assign({},e,{title:t.payload.title,searchkeys:t.payload.searchkeys,body:t.payload.body,price:t.payload.price,image:t.payload.image})});case d:return e.filter(function(e){return e.id!==t.payload.id});case f:return t.posts;default:return e}}}),ne=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||$.d,ae=Object($.e)(te,ne(Object($.a)(ee.a)));i.a.render(r.a.createElement(s.a,{store:ae},r.a.createElement(Y,null)),document.getElementById("app"))}},[["bbQB","runtime",0,1]]]);